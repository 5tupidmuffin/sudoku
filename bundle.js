(()=>{"use strict";var t=function(){function t(t){this.cells=t,this.highlightedCellIndex=null}return t.prototype.fillBoard=function(t){for(var e=0;e<81;e++)t[e]?(this.cells[e].textContent=t[e],this.cells[e].classList.add("preFilledCell")):(this.cells[e].textContent="",this.cells[e].classList.remove("preFilledCell"))},t.prototype.isPrefilled=function(t){return this.cells[t].classList.contains("preFilledCell")},t.prototype.highlightCell=function(t){this.cells[t].classList.add("highlightedCell"),this.highlightedCellIndex=t},t.prototype.markInvalid=function(t){this.cells[t].classList.add("invalid")},t.prototype.removeHighlight=function(){null!==this.highlightedCellIndex&&(this.cells[this.highlightedCellIndex].classList.remove("highlightedCell"),this.cells[this.highlightedCellIndex].classList.remove("invalid"))},t.prototype.updateValue=function(t,e){if(this.isPrefilled(t))throw new Error("tried to update prefilled cell: ".concat(t));this.cells[t].textContent=e},t.prototype.removeValue=function(t,e){if(this.isPrefilled(t))throw new Error("tried to update prefilled cell: ".concat(t));this.cells[t].textContent=""},t}();const e=t;var n=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this.time=60*n+r,this.flag=null,this.minuteDis=t,this.secondDis=e}return t.prototype.start=function(){var t=this;this.flag||(this.flag=setInterval((function(){t.time+=1;var e=t.getTime();t.minuteDis.textContent="".concat(e.minutes,"M"),t.secondDis.textContent="".concat(e.seconds,"S")}),1e3))},t.prototype.pause=function(){this.flag&&(clearInterval(this.flag),this.flag=null)},t.prototype.reset=function(){this.pause(),this.time=0,this.minuteDis.textContent="".concat(0,"M"),this.secondDis.textContent="".concat(0,"S")},t.prototype.getTime=function(){return{minutes:Math.floor(this.time/60),seconds:this.time%60}},t}();const r=n;var i=function(t,e){var n=Math.random();return n>.5?0:Math.floor(n*(e-t)+t)},o=function(t){var e=l(t);if(null===e)return!0;for(var n=1;n<10;n++)if(d(t,e,n)){if(t[e]=n,o(t))return!0;t[e]=0}return!1},l=function(t){for(var e=0;e<81;e++)if(0===t[e])return e;return null},s=function(t,e,n){for(var r=e;r%9>0;)if(t[r-=1]===n)return!0;for(r=e;r%9<8;)if(t[r+=1]===n)return!0;return!1},a=function(t,e,n){for(var r=e;r>0;)if(t[r-=9]===n)return!0;for(r=e;r<81;)if(t[r+=9]===n)return!0;return!1},u=function(t,e,n){for(var r=[],i=e;i%3>0&&i>=0;)i-=1,r.push(t[i]);for(i=e;i%3<2&&i<81;)i+=1,r.push(t[i]);for(i=e%3==0?e-7:e%3==1?e-8:e-9;i>=0&&c(i)===c(e);){for(;i>=0&&c(i)===c(e);)r.push(t[i]),i-=1;i-=6}for(i=e%3==0?e+9:e%3==1?e+8:e+7;i<81&&c(i)===c(e);){for(;i<81&&c(i)===c(e);)r.push(t[i]),i+=1;i+=6}return r.includes(n)},c=function(t){return 3*Math.floor(t/27)+Math.floor(t/3%3)},d=function(t,e,n){return!s(t,e,n)&&!a(t,e,n)&&!u(t,e,n)},f=function(t,e){return!(s(t,e,t[e])||a(t,e,t[e])||u(t,e,t[e]))};const h=o;var p=function(){function t(t){void 0===t&&(t=[]),this.board=t.length?t:this.generateBoard()}return t.prototype.updateValue=function(t,e){this.board[t]=e},t.prototype.isFilled=function(){for(var t=0;t<81;t++)if(0===this.board[t])return!1;return!0},t.prototype.isCellValid=function(t){return f(this.board,t)},t.prototype.isBoardValid=function(){return function(t){for(var e=0;e<81;e++)if(!f(t,e))return!1;return!0}(this.board)},t.prototype.solve=function(t){void 0===t&&(t=this.board),h(t)},t.prototype.generateBoard=function(){for(var t=new Array(81).fill(0),e=[],n=[],r=0;r<5;r++){for(var o=i(0,81);e.includes(o);)o=i(1,9);e.push(o)}for(r=0;r<5;r++){for(var l=i(1,9);n.includes(l);)l=i(1,9);n.push(l)}for(r=0;r<5;r++)t[e[r]]=n[r];for(this.solve(t),r=0;r<81;r++)Math.random()>.7&&(t[r]=0);return t},t.prototype.generateRandomBoard=function(){for(var t=0;t<81;t++)this.board[t]=i(0,9);return this.board},t}();const v=p;var g=document.querySelector("#minute"),m=document.querySelector("#second"),C=document.querySelectorAll(".cell"),y=document.querySelectorAll(".numberInput"),w=null,b=null;"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js"),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sudoku/service-worker.js").then((function(t){console.log("SW registered: ",t)})).catch((function(t){console.log("SW registration failed: ",t)}))})));var x=new r(g,m);x.start();var L=new e(C),k=new v;L.fillBoard(k.board),C.forEach((function(t,e){t.addEventListener("click",(function(n){L.removeHighlight(),w=null,b=null,L.isPrefilled(e)||(L.highlightCell(e),w=t,b=e)}))})),y.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),w&&(k.updateValue(b,"X"===t.textContent?0:Number(t.textContent)),L.updateValue(b,"X"===t.textContent?null:t.textContent),k.isFilled()&&k.isBoardValid()&&(alert("Solved!"),x.pause()))}))})),document.querySelector("#reset").addEventListener("click",(function(){for(var t=0;t<81;t++)C[t].classList.contains("preFilledCell")||(L.updateValue(t,null),k.updateValue(t,0))})),document.querySelector("#validate").addEventListener("click",(function(){for(var t=0;t<81;t++)C[t].classList.contains("preFilledCell")||0===k.board[t]||k.isCellValid(t)||L.markInvalid(t)})),document.querySelector("#new").addEventListener("click",(function(){k.board=k.generateBoard(),L.fillBoard(k.board),x.reset(),x.start()})),window.enableDebugging=function(){window.logic=k,window.board=L}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFBLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWRva3UvLi9zcmMvQm9hcmQvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1Ly4vc3JjL0Nsb2NrL2luZGV4LnRzIiwid2VicGFjazovL3N1ZG9rdS8uL3NyYy91dGlscy9pbmRleC50cyIsIndlYnBhY2s6Ly9zdWRva3UvLi9zcmMvTG9naWMvbG9naWMuc29sdmVyLnRzIiwid2VicGFjazovL3N1ZG9rdS8uL3NyYy9Mb2dpYy9pbmRleC50cyIsIndlYnBhY2s6Ly9zdWRva3UvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEJvYXJkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQm9hcmQoY2VsbHMpIHtcclxuICAgICAgICB0aGlzLmNlbGxzID0gY2VsbHM7XHJcbiAgICAgICAgdGhpcy5oaWdobGlnaHRlZENlbGxJbmRleCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBCb2FyZC5wcm90b3R5cGUuZmlsbEJvYXJkID0gZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODE7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWVzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW2ldLnRleHRDb250ZW50ID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWxsc1tpXS5jbGFzc0xpc3QuYWRkKFwicHJlRmlsbGVkQ2VsbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNbaV0udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWxsc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwicHJlRmlsbGVkQ2VsbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCb2FyZC5wcm90b3R5cGUuaXNQcmVmaWxsZWQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jZWxsc1tpbmRleF0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJlRmlsbGVkQ2VsbFwiKTtcclxuICAgIH07XHJcbiAgICBCb2FyZC5wcm90b3R5cGUuaGlnaGxpZ2h0Q2VsbCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHRoaXMuY2VsbHNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHRlZENlbGxcIik7XHJcbiAgICAgICAgdGhpcy5oaWdobGlnaHRlZENlbGxJbmRleCA9IGluZGV4O1xyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5tYXJrSW52YWxpZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHRoaXMuY2VsbHNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJpbnZhbGlkXCIpO1xyXG4gICAgfTtcclxuICAgIEJvYXJkLnByb3RvdHlwZS5yZW1vdmVIaWdobGlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRDZWxsSW5kZXggPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmNlbGxzW3RoaXMuaGlnaGxpZ2h0ZWRDZWxsSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWdobGlnaHRlZENlbGxcIik7XHJcbiAgICAgICAgdGhpcy5jZWxsc1t0aGlzLmhpZ2hsaWdodGVkQ2VsbEluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwiaW52YWxpZFwiKTtcclxuICAgIH07XHJcbiAgICBCb2FyZC5wcm90b3R5cGUudXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQcmVmaWxsZWQoaW5kZXgpKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cmllZCB0byB1cGRhdGUgcHJlZmlsbGVkIGNlbGw6IFwiLmNvbmNhdChpbmRleCkpO1xyXG4gICAgICAgIHRoaXMuY2VsbHNbaW5kZXhdLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgQm9hcmQucHJvdG90eXBlLnJlbW92ZVZhbHVlID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUHJlZmlsbGVkKGluZGV4KSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJpZWQgdG8gdXBkYXRlIHByZWZpbGxlZCBjZWxsOiBcIi5jb25jYXQoaW5kZXgpKTtcclxuICAgICAgICB0aGlzLmNlbGxzW2luZGV4XS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJvYXJkO1xyXG59KCkpO1xyXG5leHBvcnQgZGVmYXVsdCBCb2FyZDtcclxuIiwidmFyIENsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2xvY2sobWludXRlRGlzLCBzZWNvbmREaXMsIG1pbnV0ZXMsIHNlY29uZHMpIHtcclxuICAgICAgICBpZiAobWludXRlcyA9PT0gdm9pZCAwKSB7IG1pbnV0ZXMgPSAwOyB9XHJcbiAgICAgICAgaWYgKHNlY29uZHMgPT09IHZvaWQgMCkgeyBzZWNvbmRzID0gMDsgfVxyXG4gICAgICAgIHRoaXMudGltZSA9IG1pbnV0ZXMgKiA2MCArIHNlY29uZHM7XHJcbiAgICAgICAgdGhpcy5mbGFnID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1pbnV0ZURpcyA9IG1pbnV0ZURpcztcclxuICAgICAgICB0aGlzLnNlY29uZERpcyA9IHNlY29uZERpcztcclxuICAgIH1cclxuICAgIENsb2NrLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmZsYWcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmZsYWcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnRpbWUgKz0gMTtcclxuICAgICAgICAgICAgdmFyIHRpbWUgPSBfdGhpcy5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIF90aGlzLm1pbnV0ZURpcy50ZXh0Q29udGVudCA9IFwiXCIuY29uY2F0KHRpbWUubWludXRlcywgXCJNXCIpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWNvbmREaXMudGV4dENvbnRlbnQgPSBcIlwiLmNvbmNhdCh0aW1lLnNlY29uZHMsIFwiU1wiKTtcclxuICAgICAgICB9LCAxICogMTAwMCk7XHJcbiAgICB9O1xyXG4gICAgQ2xvY2sucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZsYWcpO1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDbG9jay5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5taW51dGVEaXMudGV4dENvbnRlbnQgPSBcIlwiLmNvbmNhdCgwLCBcIk1cIik7XHJcbiAgICAgICAgdGhpcy5zZWNvbmREaXMudGV4dENvbnRlbnQgPSBcIlwiLmNvbmNhdCgwLCBcIlNcIik7XHJcbiAgICB9O1xyXG4gICAgQ2xvY2sucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWludXRlczogTWF0aC5mbG9vcih0aGlzLnRpbWUgLyA2MCksXHJcbiAgICAgICAgICAgIHNlY29uZHM6IHRoaXMudGltZSAlIDYwLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENsb2NrO1xyXG59KCkpO1xyXG5leHBvcnQgZGVmYXVsdCBDbG9jaztcclxuIiwiZXhwb3J0IHZhciBnZXRSYW5kb21BcmJpdHJhcnkgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgLy8gICA1MCUgY2hhbmdlIG9mIGdldHRpbmcgMCBpLmUuIGVtcHR5IGNlbGxcclxuICAgIGlmIChyYW5kb20gPiAwLjUpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLmZsb29yKHJhbmRvbSAqIChtYXggLSBtaW4pICsgbWluKTtcclxufTtcclxuIiwiLy8gc3Vkb2t1IHNvbHZlclxyXG4vLyBodHRwczovL3d3dy5nZWVrc2ZvcmdlZWtzLm9yZy9zdWRva3UtYmFja3RyYWNraW5nLTcvICAtLS0gMkQgQXJyYXkgYmFzZWRcclxudmFyIHN1ZG9rdVNvbHZlciA9IGZ1bmN0aW9uIChib2FyZCkge1xyXG4gICAgdmFyIGVtcHR5Q2VsbCA9IGdldEVtcHR5Q2VsbEluZGV4KGJvYXJkKTtcclxuICAgIGlmIChlbXB0eUNlbGwgPT09IG51bGwpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IDEwOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNTYWZlKGJvYXJkLCBlbXB0eUNlbGwsIGkpKSB7XHJcbiAgICAgICAgICAgIGJvYXJkW2VtcHR5Q2VsbF0gPSBpO1xyXG4gICAgICAgICAgICBpZiAoc3Vkb2t1U29sdmVyKGJvYXJkKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBib2FyZFtlbXB0eUNlbGxdID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcbnZhciBnZXRFbXB0eUNlbGxJbmRleCA9IGZ1bmN0aW9uIChib2FyZCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4MTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGJvYXJkW2ldID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xyXG52YXIgaXNJblJvdyA9IGZ1bmN0aW9uIChib2FyZCwgaW5kZXgsIHZhbHVlKSB7XHJcbiAgICB2YXIgdGVtcEluZGV4ID0gaW5kZXg7XHJcbiAgICAvLyBsZWZ0XHJcbiAgICB3aGlsZSAodGVtcEluZGV4ICUgOSA+IDApIHtcclxuICAgICAgICB0ZW1wSW5kZXggLT0gMTtcclxuICAgICAgICBpZiAoYm9hcmRbdGVtcEluZGV4XSA9PT0gdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGVtcEluZGV4ID0gaW5kZXg7XHJcbiAgICAvLyByaWdodFxyXG4gICAgd2hpbGUgKHRlbXBJbmRleCAlIDkgPCA4KSB7XHJcbiAgICAgICAgdGVtcEluZGV4ICs9IDE7XHJcbiAgICAgICAgaWYgKGJvYXJkW3RlbXBJbmRleF0gPT09IHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxudmFyIGlzSW5Db2x1bW4gPSBmdW5jdGlvbiAoYm9hcmQsIGluZGV4LCB2YWx1ZSkge1xyXG4gICAgdmFyIHRlbXBJbmRleCA9IGluZGV4O1xyXG4gICAgLy8gdXBcclxuICAgIHdoaWxlICh0ZW1wSW5kZXggPiAwKSB7XHJcbiAgICAgICAgdGVtcEluZGV4IC09IDk7XHJcbiAgICAgICAgaWYgKGJvYXJkW3RlbXBJbmRleF0gPT09IHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRlbXBJbmRleCA9IGluZGV4O1xyXG4gICAgd2hpbGUgKHRlbXBJbmRleCA8IDgxKSB7XHJcbiAgICAgICAgdGVtcEluZGV4ICs9IDk7XHJcbiAgICAgICAgaWYgKGJvYXJkW3RlbXBJbmRleF0gPT09IHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxudmFyIGlzSW5Cb3ggPSBmdW5jdGlvbiAoYm9hcmQsIGluZGV4LCB2YWx1ZSkge1xyXG4gICAgLy8gZ2Vla3NGb3JHZWVrcycgc3ViZ3JpZCBjaGVjayBmdW5jdGlvbiBpcyBlcnJvciBwcm9uZSA6KFxyXG4gICAgdmFyIHRlbXBCb2FyZCA9IFtdO1xyXG4gICAgdmFyIHRlbXBJbmRleCA9IGluZGV4O1xyXG4gICAgLy8gbGVmdFxyXG4gICAgd2hpbGUgKHRlbXBJbmRleCAlIDMgPiAwICYmIHRlbXBJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgdGVtcEluZGV4IC09IDE7XHJcbiAgICAgICAgdGVtcEJvYXJkLnB1c2goYm9hcmRbdGVtcEluZGV4XSk7XHJcbiAgICB9XHJcbiAgICB0ZW1wSW5kZXggPSBpbmRleDtcclxuICAgIC8vIHJpZ2h0XHJcbiAgICB3aGlsZSAodGVtcEluZGV4ICUgMyA8IDIgJiYgdGVtcEluZGV4IDwgODEpIHtcclxuICAgICAgICB0ZW1wSW5kZXggKz0gMTtcclxuICAgICAgICB0ZW1wQm9hcmQucHVzaChib2FyZFt0ZW1wSW5kZXhdKTtcclxuICAgIH1cclxuICAgIC8vIHVwXHJcbiAgICB0ZW1wSW5kZXggPVxyXG4gICAgICAgIGluZGV4ICUgMyA9PT0gMCA/IGluZGV4IC0gNyA6IGluZGV4ICUgMyA9PT0gMSA/IGluZGV4IC0gOCA6IGluZGV4IC0gOTtcclxuICAgIHdoaWxlICh0ZW1wSW5kZXggPj0gMCAmJlxyXG4gICAgICAgIGdldFN1YmdyaWRJbmRleCh0ZW1wSW5kZXgpID09PSBnZXRTdWJncmlkSW5kZXgoaW5kZXgpKSB7XHJcbiAgICAgICAgd2hpbGUgKHRlbXBJbmRleCA+PSAwICYmXHJcbiAgICAgICAgICAgIGdldFN1YmdyaWRJbmRleCh0ZW1wSW5kZXgpID09PSBnZXRTdWJncmlkSW5kZXgoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgIHRlbXBCb2FyZC5wdXNoKGJvYXJkW3RlbXBJbmRleF0pO1xyXG4gICAgICAgICAgICB0ZW1wSW5kZXggLT0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcEluZGV4ID0gdGVtcEluZGV4IC0gNjtcclxuICAgIH1cclxuICAgIHRlbXBJbmRleCA9XHJcbiAgICAgICAgaW5kZXggJSAzID09PSAwID8gaW5kZXggKyA5IDogaW5kZXggJSAzID09PSAxID8gaW5kZXggKyA4IDogaW5kZXggKyA3O1xyXG4gICAgLy8gZG93blxyXG4gICAgd2hpbGUgKHRlbXBJbmRleCA8IDgxICYmXHJcbiAgICAgICAgZ2V0U3ViZ3JpZEluZGV4KHRlbXBJbmRleCkgPT09IGdldFN1YmdyaWRJbmRleChpbmRleCkpIHtcclxuICAgICAgICB3aGlsZSAodGVtcEluZGV4IDwgODEgJiZcclxuICAgICAgICAgICAgZ2V0U3ViZ3JpZEluZGV4KHRlbXBJbmRleCkgPT09IGdldFN1YmdyaWRJbmRleChpbmRleCkpIHtcclxuICAgICAgICAgICAgdGVtcEJvYXJkLnB1c2goYm9hcmRbdGVtcEluZGV4XSk7XHJcbiAgICAgICAgICAgIHRlbXBJbmRleCArPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZW1wSW5kZXggPSB0ZW1wSW5kZXggKyA2O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRlbXBCb2FyZC5pbmNsdWRlcyh2YWx1ZSk7XHJcbn07XHJcbnZhciBnZXRTdWJncmlkSW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgIC8qXHJcbiAgICAgIE1hdGguZmxvb3IoSURYIC8gMjcpID09PSBzdWJncmlkIHJvdyBudW1iZXJcclxuICAgICAgTWF0aC5mbG9vcigoSURYIC8gMykgJSAzKSA9PT0gc3ViZ3JpZCBjb2x1bW4gbnVtYmVyXHJcbiAgICAqL1xyXG4gICAgdmFyIHJvd0luZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIDI3KTtcclxuICAgIHZhciBjb2x1bW5JbmRleCA9IE1hdGguZmxvb3IoKGluZGV4IC8gMykgJSAzKTtcclxuICAgIHJldHVybiByb3dJbmRleCAqIDMgKyBjb2x1bW5JbmRleDtcclxufTtcclxudmFyIGlzU2FmZSA9IGZ1bmN0aW9uIChib2FyZCwgaW5kZXgsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gKCFpc0luUm93KGJvYXJkLCBpbmRleCwgdmFsdWUpICYmXHJcbiAgICAgICAgIWlzSW5Db2x1bW4oYm9hcmQsIGluZGV4LCB2YWx1ZSkgJiZcclxuICAgICAgICAhaXNJbkJveChib2FyZCwgaW5kZXgsIHZhbHVlKSk7XHJcbn07XHJcbmV4cG9ydCB2YXIgaXNDZWxsVmFsaWQgPSBmdW5jdGlvbiAoYm9hcmQsIGluZGV4KSB7XHJcbiAgICBpZiAoaXNJblJvdyhib2FyZCwgaW5kZXgsIGJvYXJkW2luZGV4XSkgfHxcclxuICAgICAgICBpc0luQ29sdW1uKGJvYXJkLCBpbmRleCwgYm9hcmRbaW5kZXhdKSB8fFxyXG4gICAgICAgIGlzSW5Cb3goYm9hcmQsIGluZGV4LCBib2FyZFtpbmRleF0pKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCB2YXIgaXNTdWRva3VCb2FyZFZhbGlkID0gZnVuY3Rpb24gKGJvYXJkKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgxOyBpKyspIHtcclxuICAgICAgICBpZiAoIWlzQ2VsbFZhbGlkKGJvYXJkLCBpKSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcbi8vIHByZXR0aWVyLWlnbm9yZVxyXG52YXIgdGVzdEJvYXJkID0gW1xyXG4gICAgNSwgMywgMCwgMCwgNywgMCwgMCwgMCwgMCxcclxuICAgIDYsIDAsIDAsIDEsIDksIDUsIDAsIDAsIDAsXHJcbiAgICAwLCA5LCA4LCAwLCAwLCAwLCAwLCA2LCAwLFxyXG4gICAgOCwgMCwgMCwgMCwgNiwgMCwgMCwgMCwgMyxcclxuICAgIDQsIDAsIDAsIDgsIDAsIDMsIDAsIDAsIDEsXHJcbiAgICA3LCAwLCAwLCAwLCAyLCAwLCAwLCAwLCA2LFxyXG4gICAgMCwgNiwgMCwgMCwgMCwgMCwgMiwgOCwgMCxcclxuICAgIDAsIDAsIDAsIDQsIDEsIDksIDAsIDAsIDUsXHJcbiAgICAwLCAwLCAwLCAwLCA4LCAwLCAwLCA3LCA5LFxyXG5dO1xyXG4vLyBwcmV0dGllci1pZ25vcmVcclxudmFyIHRlc3RTb2x1dGlvbiA9IFtcclxuICAgIDUsIDMsIDQsIDYsIDcsIDgsIDksIDEsIDIsXHJcbiAgICA2LCA3LCAyLCAxLCA5LCA1LCAzLCA0LCA4LFxyXG4gICAgMSwgOSwgOCwgMywgNCwgMiwgNSwgNiwgNyxcclxuICAgIDgsIDUsIDksIDcsIDYsIDEsIDQsIDIsIDMsXHJcbiAgICA0LCAyLCA2LCA4LCA1LCAzLCA3LCA5LCAxLFxyXG4gICAgNywgMSwgMywgOSwgMiwgNCwgOCwgNSwgNixcclxuICAgIDksIDYsIDEsIDUsIDMsIDcsIDIsIDgsIDQsXHJcbiAgICAyLCA4LCA3LCA0LCAxLCA5LCA2LCAzLCA1LFxyXG4gICAgMywgNCwgNSwgMiwgOCwgNiwgMSwgNywgOSxcclxuXTtcclxuLy8gcHJldHRpZXItaWdub3JlXHJcbnZhciB0ZXN0Qm9hcmQyID0gW1xyXG4gICAgMCwgMCwgMSwgMCwgNSwgMCwgNiwgMywgMCxcclxuICAgIDMsIDAsIDAsIDAsIDcsIDgsIDAsIDUsIDAsXHJcbiAgICAwLCAwLCA1LCA0LCA2LCAwLCA3LCAwLCAwLFxyXG4gICAgMiwgNSwgMCwgMCwgMCwgMCwgMCwgNCwgNyxcclxuICAgIDAsIDEsIDAsIDAsIDAsIDcsIDAsIDAsIDAsXHJcbiAgICA3LCAwLCA2LCAwLCAwLCA0LCAwLCAwLCAwLFxyXG4gICAgMSwgNCwgMiwgOCwgMCwgMCwgNSwgMCwgMCxcclxuICAgIDYsIDMsIDcsIDAsIDQsIDAsIDgsIDEsIDAsXHJcbiAgICAwLCAwLCA4LCAwLCAxLCAwLCAwLCAyLCAwLFxyXG5dO1xyXG4vLyBwcmV0dGllci1pZ25vcmVcclxudmFyIHNvbHV0aW9uMiA9IFtcclxuICAgIDgsIDcsIDEsIDksIDUsIDIsIDYsIDMsIDQsXHJcbiAgICAzLCA2LCA0LCAxLCA3LCA4LCA5LCA1LCAyLFxyXG4gICAgOSwgMiwgNSwgNCwgNiwgMywgNywgOCwgMSxcclxuICAgIDIsIDUsIDksIDYsIDgsIDEsIDMsIDQsIDcsXHJcbiAgICA0LCAxLCAzLCA1LCA5LCA3LCAyLCA2LCA4LFxyXG4gICAgNywgOCwgNiwgMywgMiwgNCwgMSwgOSwgNSxcclxuICAgIDEsIDQsIDIsIDgsIDMsIDksIDUsIDcsIDYsXHJcbiAgICA2LCAzLCA3LCAyLCA0LCA1LCA4LCAxLCA5LFxyXG4gICAgNSwgOSwgOCwgNywgMSwgNiwgNCwgMiwgM1xyXG5dO1xyXG5leHBvcnQgZGVmYXVsdCBzdWRva3VTb2x2ZXI7XHJcbiIsImltcG9ydCB7IGdldFJhbmRvbUFyYml0cmFyeSB9IGZyb20gXCIuLi91dGlsc1wiO1xyXG5pbXBvcnQgc3Vkb2t1U29sdmVyLCB7IGlzU3Vkb2t1Qm9hcmRWYWxpZCwgaXNDZWxsVmFsaWQgfSBmcm9tIFwiLi9sb2dpYy5zb2x2ZXJcIjtcclxudmFyIExvZ2ljID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTG9naWMoYm9hcmQpIHtcclxuICAgICAgICBpZiAoYm9hcmQgPT09IHZvaWQgMCkgeyBib2FyZCA9IFtdOyB9XHJcbiAgICAgICAgdGhpcy5ib2FyZCA9IGJvYXJkLmxlbmd0aCA/IGJvYXJkIDogdGhpcy5nZW5lcmF0ZUJvYXJkKCk7XHJcbiAgICB9XHJcbiAgICBMb2dpYy5wcm90b3R5cGUudXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZFtpbmRleF0gPSB2YWx1ZTtcclxuICAgIH07XHJcbiAgICBMb2dpYy5wcm90b3R5cGUuaXNGaWxsZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4MTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvYXJkW2ldID09PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBMb2dpYy5wcm90b3R5cGUuaXNDZWxsVmFsaWQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gaXNDZWxsVmFsaWQodGhpcy5ib2FyZCwgaW5kZXgpO1xyXG4gICAgfTtcclxuICAgIExvZ2ljLnByb3RvdHlwZS5pc0JvYXJkVmFsaWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzU3Vkb2t1Qm9hcmRWYWxpZCh0aGlzLmJvYXJkKTtcclxuICAgIH07XHJcbiAgICBMb2dpYy5wcm90b3R5cGUuc29sdmUgPSBmdW5jdGlvbiAoYm9hcmQpIHtcclxuICAgICAgICBpZiAoYm9hcmQgPT09IHZvaWQgMCkgeyBib2FyZCA9IHRoaXMuYm9hcmQ7IH1cclxuICAgICAgICBzdWRva3VTb2x2ZXIoYm9hcmQpO1xyXG4gICAgfTtcclxuICAgIExvZ2ljLnByb3RvdHlwZS5nZW5lcmF0ZUJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ZW1wQm9hcmQgPSBuZXcgQXJyYXkoODEpLmZpbGwoMCk7XHJcbiAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcclxuICAgICAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0UmFuZG9tQXJiaXRyYXJ5KDAsIDgxKTtcclxuICAgICAgICAgICAgd2hpbGUgKGluZGV4ZXMuaW5jbHVkZXMoaW5kZXgpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGdldFJhbmRvbUFyYml0cmFyeSgxLCA5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRSYW5kb21BcmJpdHJhcnkoMSwgOSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh2YWx1ZXMuaW5jbHVkZXModmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGdldFJhbmRvbUFyYml0cmFyeSgxLCA5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRlbXBCb2FyZFtpbmRleGVzW2ldXSA9IHZhbHVlc1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zb2x2ZSh0ZW1wQm9hcmQpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODE7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNykge1xyXG4gICAgICAgICAgICAgICAgdGVtcEJvYXJkW2ldID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGVtcEJvYXJkO1xyXG4gICAgfTtcclxuICAgIExvZ2ljLnByb3RvdHlwZS5nZW5lcmF0ZVJhbmRvbUJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODE7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmJvYXJkW2ldID0gZ2V0UmFuZG9tQXJiaXRyYXJ5KDAsIDkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTG9naWM7XHJcbn0oKSk7XHJcbmV4cG9ydCBkZWZhdWx0IExvZ2ljO1xyXG4iLCJpbXBvcnQgQm9hcmQgZnJvbSBcIi4vQm9hcmRcIjtcclxuaW1wb3J0IENsb2NrIGZyb20gXCIuL0Nsb2NrXCI7XHJcbmltcG9ydCBMb2dpYyBmcm9tIFwiLi9Mb2dpY1wiO1xyXG4vLyBjbG9jayBzZXR1cFxyXG52YXIgbWludXRlRGlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtaW51dGVcIik7XHJcbnZhciBzZWNvbmREaXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlY29uZFwiKTtcclxudmFyIGNlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpO1xyXG52YXIgbnVtYmVySW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5udW1iZXJJbnB1dFwiKTtcclxudmFyIHNlbGVjdGVkQ2VsbCA9IG51bGw7XHJcbnZhciBzZWxlY3RlZENlbGxJbmRleCA9IG51bGw7XHJcbmlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKFwiL3N3LmpzXCIpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxyXG4gICAgICAgICAgICAucmVnaXN0ZXIoXCIvc3Vkb2t1L3NlcnZpY2Utd29ya2VyLmpzXCIpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTVyByZWdpc3RlcmVkOiBcIiwgcmVnaXN0cmF0aW9uKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogXCIsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbnZhciBjbG9jayA9IG5ldyBDbG9jayhtaW51dGVEaXMsIHNlY29uZERpcyk7XHJcbmNsb2NrLnN0YXJ0KCk7XHJcbi8vIGJvYXJkcyBzZXR1cFxyXG52YXIgYm9hcmQgPSBuZXcgQm9hcmQoY2VsbHMpO1xyXG52YXIgbG9naWMgPSBuZXcgTG9naWMoKTtcclxuYm9hcmQuZmlsbEJvYXJkKGxvZ2ljLmJvYXJkKTtcclxuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAoY2VsbCwgaW5kZXgpIHtcclxuICAgIGNlbGwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgYm9hcmQucmVtb3ZlSGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgc2VsZWN0ZWRDZWxsID0gbnVsbDtcclxuICAgICAgICBzZWxlY3RlZENlbGxJbmRleCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGJvYXJkLmlzUHJlZmlsbGVkKGluZGV4KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGJvYXJkLmhpZ2hsaWdodENlbGwoaW5kZXgpO1xyXG4gICAgICAgIHNlbGVjdGVkQ2VsbCA9IGNlbGw7XHJcbiAgICAgICAgc2VsZWN0ZWRDZWxsSW5kZXggPSBpbmRleDtcclxuICAgIH0pO1xyXG59KTtcclxuLy8gaW5wdXQgc2V0dXBcclxubnVtYmVySW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGJ0bikge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRDZWxsKSB7XHJcbiAgICAgICAgICAgIGxvZ2ljLnVwZGF0ZVZhbHVlKHNlbGVjdGVkQ2VsbEluZGV4LCBidG4udGV4dENvbnRlbnQgPT09IFwiWFwiID8gMCA6IE51bWJlcihidG4udGV4dENvbnRlbnQpKTtcclxuICAgICAgICAgICAgYm9hcmQudXBkYXRlVmFsdWUoc2VsZWN0ZWRDZWxsSW5kZXgsIGJ0bi50ZXh0Q29udGVudCA9PT0gXCJYXCIgPyBudWxsIDogYnRuLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgaWYgKGxvZ2ljLmlzRmlsbGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2dpYy5pc0JvYXJkVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiU29sdmVkIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9jay5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc2V0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgxOyBpKyspIHtcclxuICAgICAgICBpZiAoIWNlbGxzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcInByZUZpbGxlZENlbGxcIikpIHtcclxuICAgICAgICAgICAgYm9hcmQudXBkYXRlVmFsdWUoaSwgbnVsbCk7XHJcbiAgICAgICAgICAgIGxvZ2ljLnVwZGF0ZVZhbHVlKGksIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdmFsaWRhdGVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODE7IGkrKykge1xyXG4gICAgICAgIGlmICghY2VsbHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJlRmlsbGVkQ2VsbFwiKSkge1xyXG4gICAgICAgICAgICBpZiAobG9naWMuYm9hcmRbaV0gIT09IDAgJiYgIWxvZ2ljLmlzQ2VsbFZhbGlkKGkpKSB7XHJcbiAgICAgICAgICAgICAgICBib2FyZC5tYXJrSW52YWxpZChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsb2dpYy5ib2FyZCA9IGxvZ2ljLmdlbmVyYXRlQm9hcmQoKTtcclxuICAgIGJvYXJkLmZpbGxCb2FyZChsb2dpYy5ib2FyZCk7XHJcbiAgICBjbG9jay5yZXNldCgpO1xyXG4gICAgY2xvY2suc3RhcnQoKTtcclxufSk7XHJcbnZhciBlbmFibGVEZWJ1Z2dpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cubG9naWMgPSBsb2dpYztcclxuICAgIHdpbmRvdy5ib2FyZCA9IGJvYXJkO1xyXG59O1xyXG53aW5kb3cuZW5hYmxlRGVidWdnaW5nID0gZW5hYmxlRGVidWdnaW5nO1xyXG4iXSwibmFtZXMiOlsiQm9hcmQiLCJjZWxscyIsInRoaXMiLCJoaWdobGlnaHRlZENlbGxJbmRleCIsInByb3RvdHlwZSIsImZpbGxCb2FyZCIsInZhbHVlcyIsImkiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImlzUHJlZmlsbGVkIiwiaW5kZXgiLCJjb250YWlucyIsImhpZ2hsaWdodENlbGwiLCJtYXJrSW52YWxpZCIsInJlbW92ZUhpZ2hsaWdodCIsInVwZGF0ZVZhbHVlIiwidmFsdWUiLCJFcnJvciIsImNvbmNhdCIsInJlbW92ZVZhbHVlIiwiQ2xvY2siLCJtaW51dGVEaXMiLCJzZWNvbmREaXMiLCJtaW51dGVzIiwic2Vjb25kcyIsInRpbWUiLCJmbGFnIiwic3RhcnQiLCJfdGhpcyIsInNldEludGVydmFsIiwiZ2V0VGltZSIsInBhdXNlIiwiY2xlYXJJbnRlcnZhbCIsInJlc2V0IiwiTWF0aCIsImZsb29yIiwiZ2V0UmFuZG9tQXJiaXRyYXJ5IiwibWluIiwibWF4IiwicmFuZG9tIiwic3Vkb2t1U29sdmVyIiwiYm9hcmQiLCJlbXB0eUNlbGwiLCJnZXRFbXB0eUNlbGxJbmRleCIsImlzU2FmZSIsImlzSW5Sb3ciLCJ0ZW1wSW5kZXgiLCJpc0luQ29sdW1uIiwiaXNJbkJveCIsInRlbXBCb2FyZCIsInB1c2giLCJnZXRTdWJncmlkSW5kZXgiLCJpbmNsdWRlcyIsImlzQ2VsbFZhbGlkIiwiTG9naWMiLCJsZW5ndGgiLCJnZW5lcmF0ZUJvYXJkIiwiaXNGaWxsZWQiLCJpc0JvYXJkVmFsaWQiLCJpc1N1ZG9rdUJvYXJkVmFsaWQiLCJzb2x2ZSIsIkFycmF5IiwiZmlsbCIsImluZGV4ZXMiLCJnZW5lcmF0ZVJhbmRvbUJvYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsIm51bWJlcklucHV0cyIsInNlbGVjdGVkQ2VsbCIsInNlbGVjdGVkQ2VsbEluZGV4IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRoZW4iLCJyZWdpc3RyYXRpb24iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJyZWdpc3RyYXRpb25FcnJvciIsImNsb2NrIiwibG9naWMiLCJmb3JFYWNoIiwiY2VsbCIsImUiLCJidG4iLCJwcmV2ZW50RGVmYXVsdCIsIk51bWJlciIsImFsZXJ0IiwiZW5hYmxlRGVidWdnaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==