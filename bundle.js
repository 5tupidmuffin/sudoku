(()=>{"use strict";var t=function(){function t(t){this.cells=t,this.highlightedCellIndex=null}return t.prototype.fillBoard=function(t){for(var e=0;e<81;e++)t[e]?(this.cells[e].textContent=t[e],this.cells[e].classList.add("preFilledCell")):(this.cells[e].textContent="",this.cells[e].classList.remove("preFilledCell"))},t.prototype.isPrefilled=function(t){return this.cells[t].classList.contains("preFilledCell")},t.prototype.highlightCell=function(t){this.cells[t].classList.add("highlightedCell"),this.highlightedCellIndex=t},t.prototype.markInvalid=function(t){this.cells[t].classList.add("invalid")},t.prototype.removeHighlight=function(){null!==this.highlightedCellIndex&&(this.cells[this.highlightedCellIndex].classList.remove("highlightedCell"),this.cells[this.highlightedCellIndex].classList.remove("invalid"))},t.prototype.updateValue=function(t,e){if(this.isPrefilled(t))throw new Error("tried to update prefilled cell: ".concat(t));this.cells[t].textContent=e},t.prototype.removeValue=function(t,e){if(this.isPrefilled(t))throw new Error("tried to update prefilled cell: ".concat(t));this.cells[t].textContent=""},t.prototype.resetBoard=function(){for(var t=0;t<81;t++)this.cells[t].classList.remove("highlightedCell"),this.cells[t].classList.remove("invalid"),this.cells[t].classList.contains("preFilledCell")||(this.cells[t].textContent="")},t.prototype.clearBoard=function(){for(var t=0;t<81;t++)this.cells[t].classList.remove("invalid"),this.cells[t].classList.remove("preFilledCell"),this.cells[t].classList.remove("highlightedCell")},t}();const e=t;var n=function(){function t(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),this.time=60*n+i,this.flag=null,this.minuteDis=t,this.secondDis=e}return t.prototype.start=function(){var t=this;this.flag||(this.flag=setInterval((function(){t.time+=1;var e=t.getTime();t.minuteDis.textContent="".concat(e.minutes,"M"),t.secondDis.textContent="".concat(e.seconds,"S")}),1e3))},t.prototype.pause=function(){this.flag&&(clearInterval(this.flag),this.flag=null)},t.prototype.reset=function(){this.pause(),this.time=0,this.minuteDis.textContent="".concat(0,"M"),this.secondDis.textContent="".concat(0,"S")},t.prototype.getTime=function(){return{minutes:Math.floor(this.time/60),seconds:this.time%60}},t}();const i=n;var l=function(t,e){var n=Math.random();return n>.5?0:Math.floor(n*(e-t)+t)},r=function(t){var e=o(t);if(null===e)return!0;for(var n=1;n<10;n++)if(d(t,e,n)){if(t[e]=n,r(t))return!0;t[e]=0}return!1},o=function(t){for(var e=0;e<81;e++)if(0===t[e])return e;return null},s=function(t,e,n){for(var i=e;i%9>0;)if(t[i-=1]===n)return!0;for(i=e;i%9<8;)if(t[i+=1]===n)return!0;return!1},a=function(t,e,n){for(var i=e;i>0;)if(t[i-=9]===n)return!0;for(i=e;i<81;)if(t[i+=9]===n)return!0;return!1},c=function(t,e,n){for(var i=[],l=e;l%3>0&&l>=0;)l-=1,i.push(t[l]);for(l=e;l%3<2&&l<81;)l+=1,i.push(t[l]);for(l=e%3==0?e-7:e%3==1?e-8:e-9;l>=0&&u(l)===u(e);){for(;l>=0&&u(l)===u(e);)i.push(t[l]),l-=1;l-=6}for(l=e%3==0?e+9:e%3==1?e+8:e+7;l<81&&u(l)===u(e);){for(;l<81&&u(l)===u(e);)i.push(t[l]),l+=1;l+=6}return i.includes(n)},u=function(t){return 3*Math.floor(t/27)+Math.floor(t/3%3)},d=function(t,e,n){return!s(t,e,n)&&!a(t,e,n)&&!c(t,e,n)},h=function(t,e){return!(s(t,e,t[e])||a(t,e,t[e])||c(t,e,t[e]))};const f=r;var p=function(){function t(t){void 0===t&&(t=[]),this.board=t.length?t:this.generateBoard()}return t.prototype.updateValue=function(t,e){this.board[t]=e},t.prototype.isFilled=function(){for(var t=0;t<81;t++)if(0===this.board[t])return!1;return!0},t.prototype.isCellValid=function(t){return h(this.board,t)},t.prototype.isBoardValid=function(){return function(t){for(var e=0;e<81;e++)if(!h(t,e))return!1;return!0}(this.board)},t.prototype.solve=function(t){void 0===t&&(t=this.board),f(t)},t.prototype.generateBoard=function(){for(var t=new Array(81).fill(0),e=[],n=[],i=0;i<5;i++){for(var r=l(0,81);e.includes(r);)r=l(1,9);e.push(r)}for(i=0;i<5;i++){for(var o=l(1,9);n.includes(o);)o=l(1,9);n.push(o)}for(i=0;i<5;i++)t[e[i]]=n[i];for(this.solve(t),i=0;i<81;i++)Math.random()<.6&&(t[i]=0);return t},t.prototype.generateRandomBoard=function(){for(var t=0;t<81;t++)this.board[t]=l(0,9);return this.board},t}();const v=p,g=function(){function t(t){this.modal=t,this.modal.style.display="none",this.flag=!1}return t.prototype.show=function(){var t=this;this.flag||(this.modal.style.display="",this.flag=!0,setTimeout((function(){t.modal.style.display="none",t.flag=!1}),3e3))},t}();var m=document.querySelector("#minute"),y=document.querySelector("#second"),C=document.querySelectorAll(".cell"),L=document.querySelectorAll(".numberInput"),w=new g(document.querySelector(".modal")),x=null,b=null,B=new i(m,y);B.start();var I=new e(C),S=new v;I.fillBoard(S.board),C.forEach((function(t,e){t.addEventListener("click",(function(n){I.removeHighlight(),x=null,b=null,I.isPrefilled(e)||(I.highlightCell(e),x=t,b=e)}))})),L.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),x&&(S.updateValue(b,"X"===t.textContent?0:Number(t.textContent)),I.updateValue(b,"X"===t.textContent?null:t.textContent),S.isFilled()&&S.isBoardValid()&&(w.show(),B.pause()))}))})),document.querySelector("#reset").addEventListener("click",(function(){I.resetBoard();for(var t=0;t<81;t++)C[t].classList.contains("preFilledCell")||(S.updateValue(t,0),x=null,b=null)})),document.querySelector("#validate").addEventListener("click",(function(){for(var t=0;t<81;t++)C[t].classList.contains("preFilledCell")||0===S.board[t]||S.isCellValid(t)||I.markInvalid(t)})),document.querySelector("#new").addEventListener("click",(function(){S.board=S.generateBoard(),I.clearBoard(),I.fillBoard(S.board),B.reset(),B.start(),x=null,b=null})),window.enableDebugging=function(){window.logic=S,window.board=I}})();